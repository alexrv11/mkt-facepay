(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{101:function(e,t){},102:function(e,t){},103:function(e,t){},105:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n,r=a(2),o=a.n(r),c=a(30),i=a.n(c),s=(a(56),a(31)),l=a(11),u=a(48),d=a(14),m=a(15),p=a(18),h=a(16),g=a(8),A=a(17),f=(a(63),a(22)),E=a.n(f),v=a(19),b=a.n(v),C=a(20),S=a.n(C),y=a(21),N=a.n(y),w=a(32),F=a.n(w),V=function(e,t){localStorage.setItem(e,JSON.stringify(t))},B=function(e){var t=e.user,a=e.password,n=F.a.url;return N.a.post("".concat(n).concat("/login"),{user_name:t,password:a})},I=function(){var e=F.a.url;return N.a.post("".concat(e).concat("/payer/face"),{face:"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxISEhUQEhIWFRAVGBcWFRUWEBUVFRUQFRUWFhUVFRUYHSggGBolHRUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OFxAQFysfHx0tLS0tLS0tLS0tLS0tLS0tLSstLSstLS0tLS0tLS0tLS0tLS0tKystLS0rLS0tLS0tLf/AABEIALcBEwMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAFAAIDBAYBBwj/xAA5EAABAwIEBQEGAwkAAwEAAAABAAIRAwQFEiExBkFRYXEiEzKBkaGxwdHwBxQjQlJicuHxFUOSM//EABoBAAMBAQEBAAAAAAAAAAAAAAABAgMEBQb/xAAiEQEBAAICAgIDAQEAAAAAAAAAAQIRAyESMUFRBCIyE2H/2gAMAwEAAhEDEQA/AM/Qpq9SYmUmK3SYvEyrC06mxWGMXGNU7WrO0iY1SAJAJ4CkBeL0pCzJC2WIU5aslWbDiujivSsUKQMJ0JQttqXLaqroQqiURoPXbw5bgTAIdiri0SEUAVHFactWtPH2DYZeEmFoqaymGiKhC2FBvplTGnJCDVFXuGs94x0PJNuqsTpIHMSI8rPYnevcYmW9CNfnzT2mY7FauKCJEEHlOp/IoczE/VmBP31EzI/WyDPrQ4SN9A7YT0nl8V1rXGW66TB/nB0Px8FJeo01bG2Ng7yNRBEHyomcSsiC1wPLY/NZk1nDQ77wNiOZaPrHJRVntPboUbLxj0CxxGnVbmDhtqJ2PQq6ADqvLW18p0cR9vyKv4djdSnDQ8lg075Z2Ce03B6JlTXBD8KxUVh6QdNzsJ7c0QKpF6RuCjIUpC5lSClXKoVEUq0lRvKGiAF1nahaXBHS1ZA03ZlrcD2Tx9jISq01TrU0Ue1VKrFaQs00lZLF1To9u0mK1Tao6bVZY1eBag9jVKAuNCeFAIBPC4AntSCO4bLSsjfsh5W0eNCsri9OHLXivaoGQknwuQuhTjFapFVwrDF1cFC9RcuXjJaoablZJlpXUGRb6aq1lGtDNifGv0WXxNuWoCirKoLBJI5gjspjfKbkQYriLdm7meUIG6tMadRPIz1Vu6eCT0me4Bnlz/0qeVu8x4P3+PRAV31QCabgC09eR8qajWblkuLmbSPeaeW3P7rl0xjoP8/nX5c1Ua1oMgHp/wBCAuTTJ1Oh1Dvx7FMdab5ToT8D+R8JlG0c73AfCLWvDNdwzBu/JLZzG0Bq0W85HiP1+uap1acdx17/AILfWfB1V5GfbxP/AFC+JuGTb+oGR+CUymzvHZNs/Y4k+k4Oa4gjcA7+Z0XpGCX/ALam1zhDyJI5eQV5ZUC0HBuImlWDHE5HadpVsrNvQXsXGsU7mpsKmSvUag2J1SB2RyoqF5bghAZynU1Wjwk7Icy1AOyJWYghKHR8DRV6rFao6hR1WrRIeWpKZzEkA2m1WGNUdNqnaF85UnAJ4CaAnhSCATwFwJ4CDOhZ3HKfNaMIPjlPRVhdZCM3C5CdCS61mhTMKjUrWaLfgvYI1gOaQv2jSUCxeuWIM68cea69t8eLY1ilwHFWs59kFl/bEnVaBlWabQNzJ+STTLHUiu+iXj0nUbR06FRswypyaSD2JC3X7P8AAmVmuquGnLTvqvQbfh2mBoI+Ci56Vjx7eIUMCedCI7lajBOAXVDLtl6dTwGmDOUT15/MopRoNaIAgKfOrnHIylnwdRpiA0T4CL08NY0QAiTym1FnbWskgWbcN2Cy3GNgH0X6SY07LZ1Ag+MU5pvHYons7Onz/e22WAear22jgecjXwjWMU/W4chEduf5INEFdUcFnb1uyqZqbXcyAnuVDhqrnt2HoI+WiIuVxhfau8KCoFZeVXqFBKZp6p9LdOLV1rEjHLI6J9QKHDzorVQLSJUi1cUpCSAjphSgJrApAvm0uhOAXAnBI3QE8BcATggHtQ/F6ctRFqr4gyWonsMXU0UYcFJe09SE2naGJXo8fHc1kiFk2QhjN4RfC26rTDC45dhneJrfQrKL0Xiaz9JMLzt4gkLprr4buOBaCydNInp+JAWfR/ARmBYechJefp69+ztrRbCOp/NbFjl57+zK59D6XNhH1XoDSsc/bXDvFMnQmtKeiCoXtUNRWXqpXqBupIA8qbFRC9D7psgg80y5x+g0wajT4IVL/wA9bOdlFQZviPrsjVPceb8XYMaVRzo9Dtj37rK1qC9txXD2V6bmHWduxjQryu3wxzq7bd2hz5CegBifotscuu3LyYd9fI3wWyp7Ay30Scp+6OORB+HNAYGNhjPS0Dpl1I7yoqOH1X+5Tc7w0laceW2X5HF4Wf8AQ56j9nKOt4auXf8AqI86IlYcKVP5hCtzsmy2JVgWkCSt9Q4WA3Vs8MUi2CNU9G87tNDCuvCP4pw62m0logt18oEdk4Sq4LimLUkyQMCkATWhPAXzSSCeFwBOAQboCcFxdCAe1NuWy0p7U540SDF3zYer1NksUOLshysYfq1er+HVBNrSHtYK1dpaNhZS/llSQjmD3ZdEruC5jtqDTPheP4hTy1HDuvbcRbNM+F47xDSy1iorp4KGhF8AqQ9CAr2Fvh4Ut8vT1DhF2S6Ee7Va6f8AJuv5rdX+M0qEB7wCeU8u6xHDFWcrQAXAy0ncPykb+CVNc4fSpke3z1ar9mAlznOPICfqSAFGc7Liy/VrrPii1eYFZgPd0fdGKVy14lpBHUEELyPELWn7UUzaFlQvDQG15OsaloERqOfNbfhi39gCzcE8zMO/RBUWaa4XyG8RuzTYXxJAOnWOS81xSve3bvU72dKYMSJHYTrtz0Xo+IatQMWII9R56iJkdPG3ySlVljtgqhtaWnsa1U7ZiYnSSWtLmyNtQCNRrqEZw5tIu9maDqcaQ5n0nUH5rU3GFUqj/auZmeI1LW8tj521VmjZgcldrPHGqVpaBjfTtyHZZTEcMP7+17BqWl/bM0RP1C3tVkBB3vAqAnkYnsol9tMpOkuEUXMdSbUdm1aQeozBekALA4Zal9Sm2ZcSM0GYYNSOwW+BW/F6rD8qzcdXMoXU2psVq5SJCr3F0GhUq9wULxB5LSq0zuSLGcZaWkA6rKs2TK4hxTqRTJwhcTiEkEganBNCeF80ToTguJwKA6uhcBXUBI1PTGqQJBmcdZqo8JPJXsdp6IbhLvVC9D8PLuKiLGqOsq7gNFx2BPwVq8s8+i9D4UwVjKLTAkgFeroMtVZ6IK8n4zoZakr3jiWyDCCOa8b4+t+azyjbhv7MSFPaOhwVcKSkdQodj07hqvGU9CCvR61ixxz5fV15x5XlXDVXQL1+xqB9NrhzAU8nxWfB/ViqbITmIl8QHOIJA6BPFOI6jsruRROiVla65jIbdu9KgoDRXK1KRCGOeQSJS0pfbS02SLYQu0vqhE6RJ3O4BVn9+B0Oh/W3VAPuHwFlcSq/xGQdC4BGMSuIb+SzV5UJIcP5TJ17j8lWLHkrc4fRySf5jpI2A6BH8HqyHDwUKtKcifirdm7I8d9F2THU1Hl3O5Zbo4uFIFdSaA963fyqFZkhH61CZQdzOSv2xs0zF1hcklDXUsroW1cwLLYw2HygKZCSUpICuE5NC6vmiOlJcSCAkC6E0JwQEjVIFCCpGlIB+Mslqz9iYetPiTZasqzR/wAV1/jXVVGutBJC2uCYgG0w08tFhrV2gKP2jpb5Xtku43dCodNgvM+PbSaZK3pOpCz3F9tmpO8KMovC6rxJOalWbDiO5XGrJ6DacL1dAvVuGb30ezJ1G3cFeN8MVdQF6XhdjWdDmNII1k6fDVFm5pz+Xhyba64uo05nYKnVr5ATILvPxVEh1VpcDD4giNv+oYWmkM9YPyGfUxmaOxj1D5LDTu8voZPEzMv93MfrdZird1qziWuLWTEAiT8eqNUcPpVW5mse+m8AiG6axrvordrhDmginTbTAIzOfGblqANNj9E9F5fdkC6NOrl2iO8DbkqLL55cWBwqR74bq1pBnfaY5Iti9kwyyTVdq0lziGiYiANCRqrNhYU6NIMa0AakwBudyj0Nbm1HEiW0ZdMyR3iYBQJ23nWPpr+uSMY7UzRlO3dBLd5e/sInyNT8dk51GeV3XqGHHQDoAPkFNV0IPdC7C9aI15BW7vEGgTK67lqPL00lB0hSIDYY2wjddu+J7dg1qNHxCPbSZDb3IHXd6j5QWrxnTcYaZ8c1JQvC/wBXVOIyuxBz1nMdai7aioYo0FBAzaZjZJFaLBASRsM4aoCe2pKE3tWCpLS4Xz1w62WhSUpVf2irVMRa0wUscLldQQUCfBU2H1GPbMhW6jGxoV2z8K63aeg0OTw9V6roJUYqrhs1SWboy1ZW4EP+K0ziSFm8QbDlrw9U40eGulgVwX2T0yhuBvlqWLt2K93G7xgo7Z3Gcym43RzU3eEOwKqSQBqZWpdhjntg+mQinI+ccXpZazx3Wv4R/ZpcXQFWsTQonaW+tw7NOw8r0rCOCbehVNw9oq1jsXDRg/tHXutK64Cy06ryXWoAYDwha2YAZTzP51H6uP5I3nGwTic2+ygrMyGRsmj2pXtBzC24YPTBFQDsdXR8lKys2pLdwf1CLWADg5h5g/UQVj30/wB3qzrkJgj+k9PCjkxnV+2/DldWfQhToGmXBpc0GZynr25Hun3NaR6iT/k6B8lNXyPGp0I0I3HxQerhbXESS4DSCTy6rOX4dXn86h9vUD3+mDA0I90Dt3VjEpayRMj7p9JzKcNAEfkhOO4rpDdo6/r9FKTtOefXYJUuBBLtddB9gP1zTsOpQJQq0/iOLnbSS3ofC0bGw0eE8mWHfYvdYY7Iyox8ZgNdxMbFDatpXHvGesFGOH7oH+C/3X7dn8lccyJB3Gi2llm3Nnhq6ZGtLQZJCy9671Fen1rZpHqAI7hZrGuFQ71UTlP9J2/0q2iTQTgOpW5szAWEw6zrUHw9hA6jUfNa62uNFePpnl7FQ5V8QPpUJuVDdXMtKZFSraBJCP3tcUgCuQSJVOhXyuhEj7qzdxVIeVwZ8Uk1Gk7mmjF4I3QjEznOiom5crVCSJK5/Hw7VOLtPZ4k+kIlEbTH3OMFZ27oPnRSWVu8GStf9M7j1Wvjh6rVvuZ1XKF6J1VMFxbsqhsXuOmiw4cMrl3D5cOKTpq6F6wjkgONuBdITbTC3jWSocSpFo1Xdnh+vpy5ST0K8PVOSv4m4QBz6LOYJd5SV6FgGB6i4re9uxn9Pc9108WX6ROtrPCuEeyb7R4h7th0b+aOvdC7KawTqUNZEZbPvKKvTjXkrTgmxIhI1EmN9lI1+YFp3SA3adlWeC0/bwg01rVLHA/0n6KPiSxBOaPRUHL+rnB+q7W/rG3NX7MirTNF2+7T0KVx8ppWGfjlthX3z6JyP22D+Tojfoeys/8AlmbZu/IeIV+/tYJa4a8wRKAVcLpT/wDmz/5WHl9uu4X4rmLY+0AiRP31jRZq5rVKx1GVk9ILungLSU7JjfdY0eGgJr7bt9E/NPhflTw6126D9AIm9Nps5Jzt4UW7VJoxziG6GCNQe4Oi1Qrio1lYbVGgns8aOHzWVqN0IRLhGq57KtA/yEVGeDo5v0lacV719o5sd47+hh50TDySc5Me7RbOVHAJhQVbcGY0KlteZScdYQVmwS6qOYYKqVbpHru3a9sH/izWJ2bqW+rTsfzVbZ3HSq6pquKqXpJkcaxcIAVJuEvc6YWut8NaERoWzRyWX+e/asctMMMF6q3bYXC0N8wAqrmR/liLlVVti3mFIKDRyT3PUZqJzjxnwlI2k1TNACqe1TS4q5JCXf3gBBMbdIVvVVMSb6VHJ/JpP2f4Sbi41H8KnDndJ5D9dF7GKYWc/Z9hoo2bDHrqet3x2HyhaMlGE1iuOOCaHJPKjcVRnymzBTMy7MoNBcbz1TKrMw78l2oZB7JtNyAit3cj4KVCoab45gyPCbWGV08iu3DczZHvN+yQFsQtBXYKjPfj59ispWp6kEQefYo7hV9lP9p37HqiGIYbTr6n0v8A6hGvnqlnxefc9teLm8OsvTElo6KB61r+FWc6r/gGrP8AE2D/ALs1j2vc5rjlMgSDEjb4rG8WUm7HRObDK6lDtAm0RJTGOUtoNSfks2unXM3Cs8MDJcjo5rh8dx9kx8SE+wqZKzHdHAfA6fiqwuspU5zeNg5ilHK7TY6hUnu9KNcQM/h5x/KdfB/2s62pIK685qvPiW3dumVHQ4FNpHVNrO28qTWHt0VauwPaWuEhPdV37KuampHgoJmbnCnhxAEjkeyS0ftEk9o8TWOVmm5D6T1bpuTSrYp1Qtz0VxT3UHBQCKbCfKYSgHBOlRSnTogIKlRRVTmhvUgfNOqlOwhme4pN6vb95/BLKbgevW7A1jWDYAD5BOJXHlMJQ0Ksdk0lMuHbFczIMxr9C3psnUqir1TBlMe+CDyKQTPMOhRgwYSru1BXHnmgH1RIUNF8KVpUNQQUBFXGV0j3T90Sw++iGk+n7f6VN7cwy/JU6TyNCnLoWbbLMCN0M4isPbW9Rg96Mzf8m6j7fVUbW+c3TcdEQpX7Tz+BWsuOU0ibxu3ndvsrTRGvZdxCl7Oq8R6MxLTy11gH6fBQipv3XnWaunqy7m0da4jVVauIRDtiCD8tU28qRPhUAwvc1jfeeQI/uJgJQ3srKYqMhwlrgJHkSsniFiaDy3dpEtPUdD3WufbNNMMedAB6pykEfzA8llccxynWeKVL1Bhkv5E7Q3r5XpZ6128mXtSY6VHUdqlQco651lYtDRVlzh0P4KD2nrPgJtN0F56n8Aqxq+onv/pBLDqq6h5rpIC1SqK3SqJJK2RXxlqBZ0kkg7mXC5JJMOFy5nSSSCrWerXDet3R/wAx9iuJID1t5URekkk1RvMiFXbV5cwkkkDKr9fKY7VpHT7pJIBlKrmYD0MfIqaZCSSA4xyc/UJJICMOUF3pDuR0PnqupIMylV5HbklWdAJ5jX5JJIDM4jULqeedM4HzB0UBraR2SSXNye3bw/yq3L0X4Fs/a3bXH3aTS8/5e636mfgkknxTecVzXWFHOJsUdXaWsJFGCemaDEntpsgWF0g1JJdNu68+LYKhuHpJJAMrXMOj4/KFUdWMTz/EpJIJwVgNFxJJMP/Z"})},O=function(){var e=function(e){var t=localStorage.getItem(e);try{return t?JSON.parse(t):void 0}catch(a){return}}("user");return e&&"null"!==e?e:void 0},q=function(){var e;e="user",localStorage.setItem(e,null)},U=(a(87),function(){return o.a.createElement("div",{class:"logo"})}),j=(a(88),function(e){return o.a.createElement("div",{className:"kraken-logo ".concat(e.invert?"invert":"")})}),W=(a(89),function(){return o.a.createElement("div",{class:"logo-mp"})}),J=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleLogin=function(){B({user:a.state.user,password:a.state.password}).then((function(e){V("user",e.data),a.setState({outAnimation:!0}),setTimeout((function(){a.props.history.push("/")}),400)})).catch((function(e){a.resetInputs(),a.props.history.push("/login")}))},a.handleRegisterPayer=function(){I().then((function(e){console.log(e.data),window.location.href=e.data})).catch((function(e){console.log("error",e)}))},a.state={user:"",password:""},O()&&(window.location.href="/"),a.updateUserInput=a.updateUserInput.bind(Object(g.a)(a)),a.updatePasswordInput=a.updatePasswordInput.bind(Object(g.a)(a)),a.handleLogin=a.handleLogin.bind(Object(g.a)(a)),a.resetInputs=a.resetInputs.bind(Object(g.a)(a)),a}return Object(A.a)(t,e),Object(m.a)(t,[{key:"updateUserInput",value:function(e){this.setState({user:e.target.value})}},{key:"updatePasswordInput",value:function(e){this.setState({password:e.target.value})}},{key:"resetInputs",value:function(){this.setState({user:"",password:""})}},{key:"render",value:function(){return o.a.createElement("div",{className:"login-page ".concat(this.state.outAnimation?"outAnimation":"")},o.a.createElement(E.a,{className:"login-page__card"},o.a.createElement("div",{className:"header"},o.a.createElement(U,null),o.a.createElement("div",{className:"header-name"},"Face Pay")),o.a.createElement("div",{className:"login-page__fields"},o.a.createElement(S.a,{label:"E-mail",message:"Ingrese su usuario",placeholder:"Ej. juan@facepay.com",messageFixed:!0,value:this.state.user,labelFixed:!0,onChange:this.updateUserInput}),o.a.createElement(S.a,{label:"Clave",message:"Ingrese su clave",messageFixed:!0,labelFixed:!0,type:"password",value:this.state.password,onChange:this.updatePasswordInput})),o.a.createElement("div",{className:"login-page__button"},o.a.createElement(b.a,{className:"login-page__button--primary",size:"large",onClick:this.handleLogin},"Ingresar"),o.a.createElement(b.a,{modifier:"transparent",onClick:this.handleRegisterPayer},"Crear cuenta")),o.a.createElement(j,{invert:!0})),o.a.createElement("div",{className:"intro-container"},o.a.createElement("div",{className:"intro-column"},o.a.createElement("img",{src:a(90),alt:"intro"}),o.a.createElement("div",{className:"quote"},"\u201cLos datos biom\xe9tricos ofrecen gran protecci\xf3n contra el fraude financiero y distintos tipos de robos ya que son mucho m\xe1s seguros que una tipica contrase\xf1a o PIN.\u201d"),o.a.createElement("div",{className:"referer"},"Dr. Thirimachos Bourlai - Fundador & Director"),o.a.createElement("div",{className:"mp-container"},o.a.createElement("div",{className:"powered-mp"},"Powered by"),o.a.createElement(W,null)))))}}]),t}(o.a.Component),P=Object(l.f)(J),D=(a(93),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).scanHandle=function(){a.state.description.length>0&&a.state.amount.length>0?window.location.href="/face?amount=".concat(a.state.amount,"&desc=").concat(a.state.description):a.updateErrors()},a.logoutHandle=function(){q(),window.location.href="/login"},a.inputChanged=function(e){var t=e.target,n=t.id,r=t.value,o=a.state;o[n]=r,o.errors[n]=!1,a.setState(o)},a.updateErrors=function(){a.setState({errors:{amount:0===a.state.amount.length,description:0===a.state.description.length}})},a.amountChanged=function(e){e.target.value=e.target.value.replace(/[^0-9.]/,""),a.inputChanged(e)},a.state={description:"",amount:"",errors:{}},O()||(window.location.href="/login"),a.inputChanged=a.inputChanged.bind(Object(g.a)(a)),a.amountChanged=a.amountChanged.bind(Object(g.a)(a)),a.logoutHandle=a.logoutHandle.bind(Object(g.a)(a)),a}return Object(A.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=O();return o.a.createElement("div",{className:"page-container"},o.a.createElement("div",{className:"gray-gradient"}),o.a.createElement("div",{className:"background-flip"},o.a.createElement(j,null)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},o.a.createElement(U,null),o.a.createElement("div",{className:"header-name"},"Face Pay")),o.a.createElement("div",{className:"title"},"Datos ",o.a.createElement("b",null,"personales")),o.a.createElement(E.a,{className:"user-data"},o.a.createElement("div",{className:"col field-names"},o.a.createElement("div",{className:"row"},"Nombre de usuario:"),o.a.createElement("div",{className:"row"},"Tipo de usuario regristrado:"),o.a.createElement("div",{className:"row"},"Nombre de dispositivo:")),o.a.createElement("div",{className:"col values"},o.a.createElement("div",{className:"row"},e.user_name),o.a.createElement("div",{className:"row"},e.user_type),o.a.createElement("div",{className:"row"},"".concat(e.user_name,"_001")," ",o.a.createElement("div",{className:"settings"})))),o.a.createElement("div",{className:"title"},"Personaliza tu ",o.a.createElement("b",null,"pago")),o.a.createElement(E.a,{className:"pay-config"},o.a.createElement(S.a,{id:"description",className:"description",label:"Descripci\xf3n",message:"Sus usuarios lo ver\xe1n en sus pagos",placeholder:"Ej.: Boleto transporte",messageFixed:!0,labelFixed:!0,value:this.state.description,onChange:this.inputChanged,modifier:this.state.errors.description?"error":"default"}),o.a.createElement("div",{className:"row"},o.a.createElement(S.a,{id:"amount",label:"Suma de dinero",message:"Elija la suma que desea cobrar",placeholder:"0.00",prefix:"$",messageFixed:!0,labelFixed:!0,autoFocus:!0,value:this.state.amount,onChange:this.amountChanged,modifier:this.state.errors.amount?"error":"default"}),o.a.createElement(b.a,{className:"demo-button",onClick:this.scanHandle},"Scan")))),o.a.createElement(b.a,{className:"logout-button",modifier:"outline",onClick:this.logoutHandle},"Cerrar sesi\xf3n"))}}]),t}(o.a.Component)),T=function(){return o.a.createElement("div",null,"Pay")},H=a(23),R=a.n(H),Q=a(35),L=a(12),k=(a(105),a(27)),K=a.n(k),X=a(125),x=function(e){function t(e){var a;Object(d.a)(this,t),a=Object(p.a)(this,Object(h.a)(t).call(this,e));var n=X.parse(e.location.search),r=n.amount,o=n.desc;return a.state={faceRecognized:!1,isPaying:!1,paymentOK:null,amount:r,desc:o},a}return Object(A.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.initFaceRecognition(),(n=document.getElementById("inputVideo")).addEventListener("play",(function(){e.startRecognition()}))}},{key:"startRecognition",value:function(){var e=this,t=setInterval(Object(Q.a)(R.a.mark((function a(){var r,o;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.c(n,new L.a).withFaceLandmarks().withFaceExpressions();case 2:r=a.sent,console.log("Detecting"),r&&r.detection.score>=.8&&!e.state.faceRecognized&&(console.log(r.detection.score),clearInterval(t),o=L.b(document.getElementById("inputVideo"),{width:480,height:272}),e.faceRecognized(o));case 5:case"end":return a.stop()}}),a)}))),200)}},{key:"initFaceRecognition",value:function(){var e=Object(Q.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([L.d.tinyFaceDetector.loadFromUri("/models"),L.d.faceLandmark68Net.loadFromUri("/models"),L.d.faceRecognitionNet.loadFromUri("/models"),L.d.faceExpressionNet.loadFromUri("/models")]).then(this.startVideo);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"faceRecognized",value:function(e){this.setState({faceRecognized:!0});var t=function(e){try{return e.split("data:image/jpeg;base64,")[1]}catch(t){return e}}(e.toDataURL("image/jpeg"));this.requestPayment(t),this.setState({isPaying:!0})}},{key:"requestPayment",value:function(e){var t,a,n,r=this;(t=e,a=this.state.amount,n=this.state.desc,N.a.post("https://thawing-wildwood-80127.herokuapp.com/payments",{image:t,amount:Number(a),description:n})).then((function(e){console.log("successfull",e),r.setState({isPaying:!1}),r.setPaymentState(!0)})).catch((function(e){console.log("Error",e),r.setState({isPaying:!1}),r.setPaymentState(!1)}))}},{key:"setPaymentState",value:function(e){var t=this;this.setState({paymentOK:e}),setTimeout((function(){t.setState({paymentOK:null,faceRecognized:!1}),t.startRecognition()}),3e3)}},{key:"startVideo",value:function(){navigator.getUserMedia({video:{}},(function(e){return n.srcObject=e}),(function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this.state,t=e.isPaying,a=e.paymentOK;return o.a.createElement("div",{className:"face-recognition-container"},o.a.createElement("div",{className:"video-container"},t&&o.a.createElement(K.a,{className:"loader",type:"Oval",color:"#00BFFF",height:480,width:480}),!0===a&&o.a.createElement(K.a,{className:"loader",type:"Puff",color:"#008744",height:480,width:480}),!1===a&&o.a.createElement(K.a,{className:"loader",type:"Puff",color:"#D12440",height:480,width:480}),o.a.createElement("video",{className:"video-element",width:"480",height:"480",id:"inputVideo",autoPlay:!0,muted:!0,playsInline:!0})))}}]),t}(o.a.Component),G=(a(137),function(){return o.a.createElement("div",null,"Error")});a(138);var M=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(u.Helmet,null,o.a.createElement("title",null,"FacePay"),o.a.createElement("meta",{name:"description",content:"You have a face? Pay with it!"}),o.a.createElement("meta",{name:"theme-color",content:"#E1E2E1"}),o.a.createElement("meta",{name:"author",content:"Kraken Team"})),o.a.createElement(s.a,null,o.a.createElement("div",{className:"main"},o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/",exact:!0,component:D}),o.a.createElement(l.a,{path:"/login",exact:!0,component:P}),o.a.createElement(l.a,{path:"/pay",exact:!0,component:T}),o.a.createElement(l.a,{path:"/face",exact:!0,component:x}),o.a.createElement(l.a,{path:"/error",exact:!0,component:G})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t){e.exports={url:"https://thawing-wildwood-80127.herokuapp.com",path:""}},51:function(e,t,a){e.exports=a(139)},56:function(e,t,a){},63:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){e.exports=a.p+"static/media/intro.73ff319e.gif"},93:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.2fac2f74.chunk.js.map